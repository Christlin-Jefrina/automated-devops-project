# deploy.yml content
- name: Deploy Kubernetes Manifests to AKS
  hosts: localhost
  connection: local
  gather_facts: no
  
  tasks:
    - name: Apply Kubernetes Deployment
      kubernetes.core.k8s:
        state: present
        src: k8s/deployment.yaml 
        kubeconfig: ~/.kube/config # The CI/CD runner will place the cluster config here

    - name: Apply Kubernetes Service
      kubernetes.core.k8s:
        state: present
        src: k8s/service.yaml 
        kubeconfig: ~/.kube/config
